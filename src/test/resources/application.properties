# IDENTITY (ContextIdApplicationContextInitializer)
spring.application.name = activity-service
spring.application.version = 0.9.1
spring.application.description = activity management spring boot service
spring.application.title = Restful API, GraphQL API

# enable spring boot actuator endpoints
management.endpoints.web.exposure.include = *

# spring boot profiles
spring.profiles.active = dev

# ----------------------------------------
# APPLICATION SERVER PROPERTIES
# ----------------------------------------
server.port = 8081
server.servlet.context-path = /
server.ssl.enabled = false
server.ssl.key-store = ../keystore.p12

# Whether response compression is enabled.
server.compression.enabled = false

# List of userEntity-agents to exclude from compression.
#server.compression.excluded-userEntity-agents=

# Comma-separated list of MIME types that should be compressed.
server.compression.mime-types = text/html,text/xml,text/plain,text/css,text/javascript,application/javascript

# Minimum "Content-Length" value that is required for compression to be performed.
server.compression.min-response-size = 2048
server.servlet.encoding.force = true
server.servlet.encoding.charset = UTF-8

spring.jackson.serialization.indent-output = true

# ----------------------------------------
# Database Migration
# ----------------------------------------
spring.flyway.enabled = false

# ----------------------------------------
# H2 DataSource
# ----------------------------------------
spring.datasource.driverClassName = org.h2.Driver
spring.datasource.url = jdbc:h2:mem:db;DB_CLOSE_DELAY=-1
spring.datasource.username = sa
spring.datasource.password = sa

# spring JPA
spring.jpa.show-sql = true
spring.jpa.hibernate.ddl-auto = none
spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.H2Dialect
spring.jpa.properties.hibernate.enable_lazy_load_no_trans = false
spring.jpa.hibernate.naming.physical-strategy = org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl

# logging
logging.level.root = WARN
logging.level.org.springframework.security = DEBUG
logging.level.com.jumkid.share = WARN
logging.level.com.jumkid.activity = DEBUG
logging.pattern.console=%clr(%d{yy-MM-dd E HH:mm:ss.SSS}){blue} %clr(%-5p) %clr([JID:%X{journey_id}]){faint} %clr(---){faint} %clr([%8.15t]){cyan} %clr(%-40.40logger{0}){blue} %clr(:){red} %clr(%m){faint}%n

# ----------------------------------------
# activity service properties
# ----------------------------------------
# enable spring security token filter
com.jumkid.jwt.token.enable = true
com.jumkid.jwt.token.validate = false
com.jumkid.jwt.token.client-id = activity-service
com.jumkid.jwt.token.fetch-url = http://keycloak:8080/realms/jumkid/protocol/openid-connect/token
com.jumkid.jwt.token.introspect-url = http://keycloak:8080/realms/jumkid/protocol/openid-connect/userinfo
# Test JWT token config. *NOTICE: make sure the user id is the same as the token sub field
com.jumkid.jwt.test-token = eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJMb2VpME1UNHZUX0R6MlRxbExyS2xrT\
  05tbklGZnVjbTdDNEdDeFdUaFo4In0.eyJleHAiOjE3MDY5ODk2MDMsImlhdCI6MTcwNjk4NzgwMywianRpIjoiMWRlZjZlZTgtNjNlNC00OD\
  Y0LTljMDQtNjA2NDA3OTBmMGUyIiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo4MDgwL3JlYWxtcy9qdW1raWQiLCJhdWQiOiJhY2NvdW50Ii\
  wic3ViIjoiNjUxODlkZjQtYTEyMS00NTU3LThiYWEtYzdkNWI3OWRkNjA3IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiYXBpLWdhdGV3YXkiLC\
  JzZXNzaW9uX3N0YXRlIjoiNTgxY2YyM2QtMTZlNS00MWM4LWFlY2QtOTQxZjIyZGUwMjRjIiwiYWxsb3dlZC1vcmlnaW5zIjpbIi8qIl0sIn\
  JlYWxtX2FjY2VzcyI6eyJyb2xlcyI6WyJkZWZhdWx0LXJvbGVzLWp1bWtpZCIsIm9mZmxpbmVfYWNjZXNzIiwidW1hX2F1dGhvcml6YXRpb2\
  4iLCJVU0VSX1JPTEUiXX0sInJlc291cmNlX2FjY2VzcyI6eyJhY2NvdW50Ijp7InJvbGVzIjpbIm1hbmFnZS1hY2NvdW50IiwibWFuYWdlLW\
  FjY291bnQtbGlua3MiLCJ2aWV3LXByb2ZpbGUiXX19LCJzY29wZSI6InByb2ZpbGUgZW1haWwgb3BlbmlkIHJvbGVzIiwic2lkIjoiNTgxY2\
  YyM2QtMTZlNS00MWM4LWFlY2QtOTQxZjIyZGUwMjRjIiwiZW1haWxfdmVyaWZpZWQiOmZhbHNlLCJuYW1lIjoiY2hvb2xpIHlpcCIsInByZW\
  ZlcnJlZF91c2VybmFtZSI6ImNob29saSIsImdpdmVuX25hbWUiOiJjaG9vbGkiLCJmYW1pbHlfbmFtZSI6InlpcCIsImVtYWlsIjoiY2hvb2x\
  pLnlpcEBnbWFpbC5jb20ifQ.feGWmzwe2_vyVshRJVJIWrivEF_9DoCGL1JM3LhlEnMKdictbgCTzh7uQwe1P3zbfFXQdqKOxry6nBdib2lt3\
  2yTr-rDb5dcF2ZLvZW1uTFfUzjfcr2LT9daVwmTAx-PQfom-aUTZprD_FC047ga_C0k-RoJwIQ82eftFlgfhC7-28eVoaSA_QvYxDxFGK-Hcz0\
  eaAJQJJhFmf0yFQrAZ5E7qoBpj5zJHH4XEQDFw95PbKcB9oKQq102-q36O0_Ymy9yvO6TfzBSwna7sYWSEoAkMBwCcWkEubS0v2eObvGmBN8x-\
  4O8J8D_cF0-iPSXu86PLItyIJAppgwRpnblJg
com.jumkid.jwt.test-user-id = 65189df4-a121-4557-8baa-c7d5b79dd607

# ----------------------------------------
# internal apis
# ----------------------------------------
# user profile api
internal.api.user = http://localhost/v1/user

# ----------------------------------------
# KAFKA PROPERTIES
# ----------------------------------------
spring.kafka.bootstrap-servers = localhost:10092
spring.kafka.consumer.group-id = 1
com.jumkid.events.activity.activity-notify = activity.notify
com.jumkid.events.activity.activity-delete = activity.delete
com.jumkid.events.content.content-delete = content.delete
